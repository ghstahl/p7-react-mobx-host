!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t){e.exports=PropTypes},function(e,t){e.exports=mobxReact},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ALL_TODOS="all",t.ACTIVE_TODOS="active",t.COMPLETED_TODOS="completed"},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=o(4),i=n(r),l=o(10),a=n(l),u=o(12),c=n(u),f=window.p7hostGlobal.storeStore,s=f.getStore("plugin-store");f.addStore("view-store",new c.default),f.addStore("todo-store",new a.default);var d={routes:[{path:"/todo",exact:!0,component:i.default}]};s.addPlugin("test-plugin",d)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,u,c=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(0),s=(n(f),o(1)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(s),p=o(5),b=n(p),v=o(7),h=n(v),y=o(9),m=n(y),w=(o(2),window.p7hostGlobal.storeStore),O=window.p7hostGlobal.React,g=(window.p7hostGlobal.mobxReact.observer,(a=d.observer)(u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){var e=w.getStore("todo-store"),t=w.getStore("view-store");return O.createElement("div",null,O.createElement("header",{className:"header"},O.createElement("h1",null,"todos"),O.createElement(b.default,{todoStore:e})),O.createElement(h.default,{todoStore:e,viewStore:t}),O.createElement(m.default,{todoStore:e,viewStore:t}))}},{key:"componentDidMount",value:function(){}}]),t}(O.Component))||u);t.default=g,g.propTypes={},e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,u,c=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(6),s=n(f),d=o(0),p=n(d),b=o(1),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(b),h=13,y=window.p7hostGlobal.React,m=(window.p7hostGlobal.mobxReact.observer,(a=v.observer)(u=function(e){function t(){var e,o,n,l;r(this,t);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return o=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.handleNewTodoKeyDown=function(e){if(e.keyCode===h){e.preventDefault();var t=s.default.findDOMNode(n.refs.newField).value.trim();t&&(n.props.todoStore.addTodo(t),s.default.findDOMNode(n.refs.newField).value="")}},l=o,i(n,l)}return l(t,e),c(t,[{key:"render",value:function(){return y.createElement("input",{ref:"newField",className:"new-todo",placeholder:"What needs to be done?",onKeyDown:this.handleNewTodoKeyDown,autoFocus:!0})}}]),t}(y.Component))||u);t.default=m,m.propTypes={todoStore:p.default.object.isRequired},e.exports=t.default},function(e,t){e.exports=ReactDOM},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,u,c=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(1),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(f),d=o(0),p=n(d),b=o(2),v=o(8),h=n(v),y=window.p7hostGlobal.React,m=(window.p7hostGlobal.mobx,(a=s.observer)(u=function(e){function t(){var e,o,n,l;r(this,t);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return o=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.toggleAll=function(e){var t=e.target.checked;n.props.todoStore.toggleAll(t)},l=o,i(n,l)}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.todoStore,o=e.viewStore;return 0===t.todos.length?null:y.createElement("section",{className:"main"},y.createElement("input",{className:"toggle-all",type:"checkbox",onChange:this.toggleAll,checked:0===t.activeTodoCount}),y.createElement("ul",{className:"todo-list"},this.getVisibleTodos().map(function(e){return y.createElement(h.default,{key:e.id,todo:e,viewStore:o})})))}},{key:"getVisibleTodos",value:function(){var e=this;return this.props.todoStore.todos.filter(function(t){switch(e.props.viewStore.todoFilter){case b.ACTIVE_TODOS:return!t.completed;case b.COMPLETED_TODOS:return t.completed;default:return!0}})}}]),t}(y.Component))||u);t.default=m,m.propTypes={viewStore:p.default.object.isRequired,todoStore:p.default.object.isRequired},e.exports=t.default},function(e,t,o){"use strict";function n(e,t,o,n){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,u,c,f,s,d=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),p=o(1),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(p),v=o(0),h=function(e){return e&&e.__esModule?e:{default:e}}(v),y=27,m=13,w=window.p7hostGlobal.React,O=window.p7hostGlobal.mobx,g=(a=b.observer,u=O.observable,a((f=function(e){function t(){var e,o,l,a;r(this,t);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return o=l=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),n(l,"editText",s,l),l.handleSubmit=function(e){var t=l.editText.trim();t?(l.props.todo.setTitle(t),l.editText=t):l.handleDestroy(),l.props.viewStore.todoBeingEdited=null},l.handleDestroy=function(){l.props.todo.destroy(),l.props.viewStore.todoBeingEdited=null},l.handleEdit=function(){var e=l.props.todo;l.props.viewStore.todoBeingEdited=e,l.editText=e.title},l.handleKeyDown=function(e){e.which===y?(l.editText=l.props.todo.title,l.props.viewStore.todoBeingEdited=null):e.which===m&&l.handleSubmit(e)},l.handleChange=function(e){l.editText=e.target.value},l.handleToggle=function(){l.props.todo.toggle()},a=o,i(l,a)}return l(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.viewStore,o=e.todo;return w.createElement("li",{className:[o.completed?"completed":"",O.expr(function(){return o===t.todoBeingEdited?"editing":""})].join(" ")},w.createElement("div",{className:"view"},w.createElement("input",{className:"toggle",type:"checkbox",checked:o.completed,onChange:this.handleToggle}),w.createElement("label",{onDoubleClick:this.handleEdit},o.title),w.createElement("button",{className:"destroy",onClick:this.handleDestroy})),w.createElement("input",{ref:"editField",className:"edit",value:this.editText,onBlur:this.handleSubmit,onChange:this.handleChange,onKeyDown:this.handleKeyDown}))}}]),t}(w.Component),s=function(e,t,o,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(f.prototype,"editText",[u],{enumerable:!0,initializer:function(){return""}}),c=f))||c);t.default=g,g.propTypes={todo:h.default.object.isRequired,viewStore:h.default.object.isRequired},e.exports=t.default},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,a,u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(1),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(c),s=o(0),d=function(e){return e&&e.__esModule?e:{default:e}}(s),p=o(2),b=window.p7hostGlobal.utils,v=b.pluralize,h=window.p7hostGlobal.React,y=(window.p7hostGlobal.mobxReact.observer,(l=f.observer)(a=function(e){function t(){var e,o,i,l;n(this,t);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return o=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.clearCompleted=function(){i.props.todoStore.clearCompleted()},l=o,r(i,l)}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props.todoStore;if(!e.activeTodoCount&&!e.completedCount)return null;var t=v(e.activeTodoCount,"item");return h.createElement("footer",{className:"footer"},h.createElement("span",{className:"todo-count"},h.createElement("strong",null,e.activeTodoCount)," ",t," left"),h.createElement("ul",{className:"filters"},this.renderFilterLink(p.ALL_TODOS,"","All"),this.renderFilterLink(p.ACTIVE_TODOS,"active","Active"),this.renderFilterLink(p.COMPLETED_TODOS,"completed","Completed")),0===e.completedCount?null:h.createElement("button",{className:"clear-completed",onClick:this.clearCompleted},"Clear completed"))}},{key:"renderFilterLink",value:function(e,t,o){return h.createElement("li",null,h.createElement("a",{href:"#/"+t,className:e===this.props.viewStore.todoFilter?"selected":""},o)," ")}}]),t}(h.Component))||a);t.default=y,y.propTypes={viewStore:d.default.object.isRequired,todoStore:d.default.object.isRequired},e.exports=t.default},function(e,t,o){"use strict";function n(e,t,o,n){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,o,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,a,u,c,f,s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=o(11),p=function(e){return e&&e.__esModule?e:{default:e}}(d),b=(window.p7hostGlobal.React,window.p7hostGlobal.mobx),v=window.p7hostGlobal.utils,h=(l=b.observable,a=b.computed,u=b.computed,c=function(){function e(){r(this,e),n(this,"todos",f,this)}return s(e,[{key:"subscribeServerToStore",value:function(){var e=this;reaction(function(){return e.toJS()},function(e){return window.fetch&&fetch("/api/todos",{method:"post",body:JSON.stringify({todos:e}),headers:new Headers({"Content-Type":"application/json"})})})}},{key:"subscribeLocalstorageToStore",value:function(){var e=this;reaction(function(){return e.toJS()},function(e){return localStorage.setItem("mobx-react-todomvc-todos",JSON.stringify({todos:e}))})}},{key:"addTodo",value:function(e){this.todos.push(new p.default(this,v.uuid(),e,!1))}},{key:"toggleAll",value:function(e){this.todos.forEach(function(t){return t.completed=e})}},{key:"clearCompleted",value:function(){this.todos=this.todos.filter(function(e){return!e.completed})}},{key:"toJS",value:function(){return this.todos.map(function(e){return e.toJS()})}},{key:"activeTodoCount",get:function(){return this.todos.reduce(function(e,t){return e+(t.completed?0:1)},0)}},{key:"completedCount",get:function(){return this.todos.length-this.activeTodoCount}}],[{key:"fromJS",value:function(t){var o=new e;return o.todos=t.map(function(e){return p.default.fromJS(o,e)}),o}}]),e}(),f=i(c.prototype,"todos",[l],{enumerable:!0,initializer:function(){return[]}}),i(c.prototype,"activeTodoCount",[a],Object.getOwnPropertyDescriptor(c.prototype,"activeTodoCount"),c.prototype),i(c.prototype,"completedCount",[u],Object.getOwnPropertyDescriptor(c.prototype,"completedCount"),c.prototype),c);t.default=h,e.exports=t.default},function(e,t,o){"use strict";function n(e,t,o,n){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,o,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0});var l,a,u,c,f,s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=(window.p7hostGlobal.React,window.p7hostGlobal.mobx),p=(l=d.observable,a=d.observable,u=function(){function e(t,o,i,l){r(this,e),n(this,"title",c,this),n(this,"completed",f,this),this.store=t,this.id=o,this.title=i,this.completed=l}return s(e,[{key:"toggle",value:function(){this.completed=!this.completed}},{key:"destroy",value:function(){this.store.todos.remove(this)}},{key:"setTitle",value:function(e){this.title=e}},{key:"toJS",value:function(){return{id:this.id,title:this.title,completed:this.completed}}}],[{key:"fromJS",value:function(t,o){return new e(t,o.id,o.title,o.completed)}}]),e}(),c=i(u.prototype,"title",[l],{enumerable:!0,initializer:null}),f=i(u.prototype,"completed",[a],{enumerable:!0,initializer:null}),u);t.default=p,e.exports=t.default},function(e,t,o){"use strict";function n(e,t,o,n){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,o,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,a,u,c,f,s=o(2),d=(window.p7hostGlobal.React,window.p7hostGlobal.mobx),p=(l=d.observable,a=d.observable,u=function e(){r(this,e),n(this,"todoBeingEdited",c,this),n(this,"todoFilter",f,this)},c=i(u.prototype,"todoBeingEdited",[l],{enumerable:!0,initializer:function(){return null}}),f=i(u.prototype,"todoFilter",[a],{enumerable:!0,initializer:function(){return s.ALL_TODOS}}),u);t.default=p,e.exports=t.default}]);
//# sourceMappingURL=bundle.js.map